貪食蛇遊戲 v2.1 產品需求文檔 (PRD)
1. 專案概述
功能名稱：貪食蛇 v2.1 - 策略道具與動態陷阱
為什麼要加：
擴大用戶群：增加虛擬方向鍵，讓沒有實體鍵盤的手機與平板用戶也能遊玩。
增加策略深度：透過不同效果的水果（加分、縮短、不變長），讓玩家根據蛇身長度決定是否該吃，不再是單純的移動。
提升趣味與緊張感：引入具備「生命週期」的陷阱，打破固定地形，要求玩家具備時間觀念與路線規劃能力。
2. 具體功能需求
2.1 介面與控制系統
虛擬方向鍵 (D-Pad)：
位置：遊戲畫面正下方。
樣式：四顆分離的圓形按鈕（上、下、左、右），排列呈十字或菱形。
觸控優化：
防止手機瀏覽器預設的雙擊縮放與長按選單。
按鈕需有足夠的觸控面積（建議直徑 > 50px），並具備按壓視覺回饋（按下變色）。
2.2 道具系統
系統隨機生成道具，道具包含水果與陷阱。

A. 水果類型
道具名稱
顏色
分數
身體長度變化
策略用途
普通蘋果	紅色	+10	+1	基礎成長，分數來源。
高分葡萄	紫色	+50	不變	高風險高回報，適合蛇身過長時刷分。
縮短西瓜	綠色	+20	-2	緊急救援，降低蛇身長度以便操作。

特殊邏輯：
西瓜保護機制：若吃到西瓜後蛇身長度將低於 3 節，則強制維持在 3 節（避免蛇太短無法遊玩）。
B. 陷阱
道具名稱
顏色
效果
致命陷阱	黑色/深灰	即死判定，遊戲立即結束。

生成邏輯：
基礎排除：不能生成在蛇身佔據的格子上。
安全區：陷阱不能生成在蛇頭周圍 1 格範圍內（給玩家反應時間，避免生成即死）。
2.3 陷阱生命週期機制 (v2.1 核心更新)
為了增加動態變化，陷阱不再是永久存在的障礙。

壽命限制：陷阱生成後，僅在場上存在 5 秒鐘。
消失行為：
5 秒倒計時結束後，陷阱自動從地圖移除。
陷阱消失後，系統立即重新生成一個新的道具（依權重隨機生成水果或新陷阱）。
視覺警示 (UX)：
當陷阱剩餘時間 < 1.5 秒 時，圖示開始閃爍（透明度變化），提醒玩家該區域即將變得安全，或者即將有新變化。
2.4 生成權重
道具出現的機率分配（總和 100%）：

普通蘋果：60%
高分葡萄：20%
縮短西瓜：15%
致命陷阱：5%