<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ê∏∏Ê?‰∏≠Â? - ?πÂ??ÜÁ†¥ & Ë¥™È???/title>
    <style>
        /* ===== ?öÁî®?∑Â? ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #fff;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .hidden {
            display: none !important;
        }
        
        /* ===== Ê∏∏Ê?‰∏≠Â?ÂÆπÂô® ===== */
        .game-center-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        /* ===== Â§¥ÈÉ® ===== */
        .game-center-header {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, rgba(58, 134, 255, 0.2), rgba(76, 201, 240, 0.2));
            border-radius: 20px;
            border: 2px solid #3a86ff;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .game-center-header h1 {
            color: #3a86ff;
            font-size: 3.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(58, 134, 255, 0.7);
            letter-spacing: 2px;
        }
        
        .game-center-header p {
            color: #ff9e00;
            font-size: 1.3rem;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        /* ===== Ê∏∏Ê??âÊã©?∫Â? ===== */
        .game-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .game-card {
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            cursor: pointer;
            display: flex;
            flex-direction: column;
        }
        
        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }
        
        .game-card.active {
            border-color: #3a86ff;
            box-shadow: 0 0 30px rgba(58, 134, 255, 0.5);
        }
        
        .game-card.block {
            border-color: #3a86ff;
        }
        
        .game-card.snake {
            border-color: #4CAF50;
        }
        
        .game-card.block:hover {
            box-shadow: 0 20px 40px rgba(58, 134, 255, 0.3);
        }
        
        .game-card.snake:hover {
            box-shadow: 0 20px 40px rgba(76, 175, 80, 0.3);
        }
        
        .game-card-header {
            padding: 25px;
            text-align: center;
        }
        
        .game-card.block .game-card-header {
            background: linear-gradient(to right, #3a86ff, #4361ee);
        }
        
        .game-card.snake .game-card-header {
            background: linear-gradient(to right, #4CAF50, #45a049);
        }
        
        .game-card-header h2 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            color: white;
        }
        
        .game-card-header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .game-card-body {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .game-stats {
            display: flex;
            justify-content: space-around;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #aaa;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
        }
        
        .game-card.block .stat-value {
            color: #3a86ff;
        }
        
        .game-card.snake .stat-value {
            color: #4CAF50;
        }
        
        .game-features {
            list-style: none;
        }
        
        .game-features li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .game-card.block .game-features li:before {
            content: "??;
            color: #3a86ff;
            font-weight: bold;
        }
        
        .game-card.snake .game-features li:before {
            content: "??;
            color: #4CAF50;
            font-weight: bold;
        }
        
        .game-card-footer {
            padding: 20px 25px;
            background-color: rgba(0, 0, 0, 0.3);
            text-align: center;
        }
        
        .play-btn {
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            letter-spacing: 1px;
            width: 100%;
        }
        
        .game-card.block .play-btn {
            background: linear-gradient(to right, #3a86ff, #4361ee);
        }
        
        .game-card.snake .play-btn {
            background: linear-gradient(to right, #4CAF50, #45a049);
        }
        
        .play-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        
        /* ===== Ê∏∏Ê?Â±ïÁ§∫?∫Â? ===== */
        .game-display-area {
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 20px;
            padding: 30px;
            border: 2px solid #3a86ff;
        }
        
        .game-display-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(58, 134, 255, 0.3);
        }
        
        .game-display-header h2 {
            color: #4cc9f0;
            font-size: 2.2rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .back-to-center {
            background: linear-gradient(to right, #f72585, #b5179e);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .back-to-center:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(247, 37, 133, 0.3);
        }
        
        /* ===== Ê∏∏Ê?ÂÆπÂô®?∑Â? ===== */
        .game-wrapper {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        /* ?πÂ??ÜÁ†¥Ê∏∏Ê??∑Â? */
        #block-game .game-header {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        #block-game .stats-container {
            display: flex;
            gap: 30px;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 15px 25px;
            border-radius: 15px;
            border: 1px solid rgba(58, 134, 255, 0.3);
        }
        
        #block-game .stat-box {
            text-align: center;
        }
        
        #block-game .stat-title {
            font-size: 1rem;
            color: #aaa;
            margin-bottom: 5px;
        }
        
        #block-game .stat-value {
            font-size: 2.2rem;
            font-weight: bold;
        }
        
        #block-game #score {
            color: #4cc9f0;
            text-shadow: 0 0 10px rgba(76, 201, 240, 0.7);
        }
        
        #block-game #lives {
            color: #ff9e00;
            text-shadow: 0 0 10px rgba(255, 158, 0, 0.7);
        }
        
        #block-game #level {
            color: #72efdd;
            text-shadow: 0 0 10px rgba(114, 239, 221, 0.7);
        }
        
        #block-game .game-area {
            position: relative;
            margin-bottom: 25px;
        }
        
        #block-canvas {
            border: 3px solid #3a86ff;
            border-radius: 10px;
            background-color: #0a0e27;
            display: block;
            margin: 0 auto;
            box-shadow: 0 0 30px rgba(58, 134, 255, 0.2);
        }
        
        #block-game .game-controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-bottom: 25px;
            width: 100%;
        }
        
        #block-game button {
            background: linear-gradient(to right, #3a86ff, #4361ee);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 160px;
            box-shadow: 0 6px 0 #2a5fcc;
            font-weight: bold;
            letter-spacing: 1px;
        }
        
        #block-game button:hover {
            background: linear-gradient(to right, #4361ee, #3a86ff);
            transform: translateY(-3px);
            box-shadow: 0 9px 0 #2a5fcc;
        }
        
        #block-game button:active {
            transform: translateY(2px);
            box-shadow: 0 4px 0 #2a5fcc;
        }
        
        #block-game #pause-btn {
            background: linear-gradient(to right, #ff9e00, #ff9100);
            box-shadow: 0 6px 0 #cc7400;
        }
        
        #block-game #pause-btn:hover {
            background: linear-gradient(to right, #ff9100, #ff9e00);
            box-shadow: 0 9px 0 #cc7400;
        }
        
        #block-game #restart-btn {
            background: linear-gradient(to right, #f72585, #b5179e);
            box-shadow: 0 6px 0 #8a126e;
        }
        
        #block-game #restart-btn:hover {
            background: linear-gradient(to right, #b5179e, #f72585);
            box-shadow: 0 9px 0 #8a126e;
        }
        
        /* Ë¥™È??áÊ∏∏?èÊ†∑Âº?*/
        #snake-game .game-header {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-bottom: 20px;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
        }
        
        #snake-game .score-container, #snake-game .high-score-container {
            text-align: center;
        }
        
        #snake-game .score-title, #snake-game .high-score-title {
            font-size: 1.2rem;
            color: #aaa;
            margin-bottom: 5px;
        }
        
        #snake-game .score-value, #snake-game .high-score-value {
            font-size: 2rem;
            font-weight: bold;
            color: #4CAF50;
        }
        
        #snake-game .difficulty-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
            margin-bottom: 20px;
        }
        
        #snake-game .difficulty-btn {
            padding: 8px 15px;
            min-width: auto;
            font-size: 1rem;
            background-color: #555;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        #snake-game .difficulty-btn.active {
            background-color: #4CAF50;
        }
        
        #snake-game .difficulty-btn:hover {
            background-color: #666;
        }
        
        #snake-game .difficulty-btn.active:hover {
            background-color: #45a049;
        }
        
        #snake-game .game-area {
            position: relative;
            margin-bottom: 25px;
        }
        
        #snake-canvas {
            border: 3px solid #4CAF50;
            border-radius: 5px;
            background-color: #0f3460;
            display: block;
            margin: 0 auto;
        }
        
        #snake-game .game-controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
            width: 100%;
        }
        
        #snake-game button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 140px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }
        
        #snake-game button:hover {
            background-color: #45a049;
            transform: translateY(-2px);
        }
        
        #snake-game button:active {
            transform: translateY(1px);
        }
        
        #snake-game #snake-pause-btn {
            background-color: #ff9800;
        }
        
        #snake-game #snake-pause-btn:hover {
            background-color: #e68900;
        }
        
        #snake-game #snake-restart-btn {
            background-color: #f44336;
        }
        
        #snake-game #snake-restart-btn:hover {
            background-color: #d32f2f;
        }
        
        /* ===== Ê∏∏Ê?Ë¶ÜÁ?Â±?===== */
        .game-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
            z-index: 10;
            display: none;
        }
        
        .game-over {
            background-color: rgba(0, 0, 0, 0.9);
        }
        
        .game-over h2 {
            color: #f72585;
            font-size: 4rem;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(247, 37, 133, 0.7);
        }
        
        .game-over p {
            font-size: 1.8rem;
            margin-bottom: 30px;
            color: #fff;
        }
        
        .level-complete {
            background-color: rgba(10, 14, 39, 0.95);
        }
        
        .level-complete h2 {
            color: #72efdd;
            font-size: 4rem;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(114, 239, 221, 0.7);
        }
        
        .level-complete p {
            font-size: 1.8rem;
            margin-bottom: 30px;
            color: #fff;
        }
        
        .powerup-active {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(58, 134, 255, 0.9);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: bold;
            z-index: 5;
            display: none;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.05); }
            100% { transform: translateX(-50%) scale(1); }
        }
        
        /* ===== Ê∏∏Ê?‰∏≠Â?‰ø°ÊÅØ ===== */
        .game-center-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }
        
        .info-card {
            background-color: rgba(255, 255, 255, 0.08);
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #ff9e00;
        }
        
        .info-card h3 {
            color: #4cc9f0;
            margin-bottom: 15px;
            font-size: 1.6rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-card h3:before {
            content: "??;
            color: #ff9e00;
        }
        
        .info-card p {
            line-height: 1.7;
            color: #ddd;
            margin-bottom: 15px;
        }
        
        /* ===== È°µË? ===== */
        .game-center-footer {
            text-align: center;
            padding: 25px;
            margin-top: 30px;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            border-top: 2px solid #3a86ff;
        }
        
        .game-center-footer p {
            color: #aaa;
            margin-bottom: 10px;
        }
        
        /* ===== ?çÂ?ÂºèËÆæËÆ?===== */
        @media (max-width: 768px) {
            .game-center-header h1 {
                font-size: 2.5rem;
            }
            
            .game-selection {
                grid-template-columns: 1fr;
            }
            
            .game-display-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .game-stats {
                flex-direction: column;
                gap: 15px;
            }
            
            #block-canvas, #snake-canvas {
                width: 100%;
                height: auto;
            }
            
            #block-game .stats-container {
                flex-direction: column;
                gap: 15px;
            }
            
            #snake-game .game-header {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
            
            #block-game .game-controls, #snake-game .game-controls {
                flex-direction: column;
                align-items: center;
            }
            
            #block-game button, #snake-game button {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .game-center-header h1 {
                font-size: 2rem;
            }
            
            .game-card-header h2 {
                font-size: 1.8rem;
            }
            
            .game-display-header h2 {
                font-size: 1.8rem;
            }
            
            .play-btn, .back-to-center {
                padding: 12px 20px;
                font-size: 1rem;
            }
            
            .game-over h2, .level-complete h2 {
                font-size: 2.5rem;
            }
            
            .game-over p, .level-complete p {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="game-center-container">
        <!-- Ê∏∏Ê?‰∏≠Â?Â§¥ÈÉ® -->
        <header class="game-center-header">
            <h1>?éÆ Ê∏∏Ê?‰∏≠Â?</h1>
            <p>Ê¨¢Ë??•Âà∞Ê∏∏Ê?‰∏≠Â?ÔºÅË??åÊ??Ü‰?ÁªèÂÖ∏Â•ΩÁé©?ÑÊ∏∏?è„ÄÇÈÄâÊã©‰Ω†Â?Ê¨¢Á?Ê∏∏Ê?ÂºÄÂßãÊ??òÂêßÔº?/p>
        </header>
        
        <!-- Ê∏∏Ê??âÊã©?∫Â? -->
        <section class="game-selection" id="game-selection">
            <!-- ?πÂ??ÜÁ†¥Ê∏∏Ê??°Á? -->
            <div class="game-card block active" data-game="block">
                <div class="game-card-header">
                    <h2>?πÂ??ÜÁ†¥</h2>
                    <p>‰ΩøÁî®?°Êùø?çÂºπ?ÉÊ??§Ê??âÊñπ?óÔ??∂È??ΩÈ??êÂ?Ôº?/p>
                </div>
                <div class="game-card-body">
                    <div class="game-stats">
                        <div class="stat-item">
                            <div class="stat-label">?ÄÈ´òÂ?</div>
                            <div class="stat-value" id="block-high-score-display">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">?ÄÈ´òÂÖ≥??/div>
                            <div class="stat-value" id="block-high-level-display">1</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Ê∏∏Ê?Ê¨°Êï∞</div>
                            <div class="stat-value" id="block-play-count-display">0</div>
                        </div>
                    </div>
                    <ul class="game-features">
                        <li>Â§öÁ??ΩÈ??êÂ??àÊ?</li>
                        <li>Ê∏êË?ÂºèÈöæÂ∫¶ÂÖ≥??/li>
                        <li>Èº†Ê??åÈîÆ?òÊéß??/li>
                        <li>?é‰∏Ω?ÑË?ËßâÊ???/li>
                    </ul>
                </div>
                <div class="game-card-footer">
                    <button class="play-btn" data-game="block">ÂºÄÂßãÊ∏∏??/button>
                </div>
            </div>
            
            <!-- Ë¥™È??áÊ∏∏?èÂç°??-->
            <div class="game-card snake" data-game="snake">
                <div class="game-card-header">
                    <h2>Ë¥™È???/h2>
                    <p>?ßÂà∂?áÂ?È£üÁâ©ÔºåÈÅø?çÊ?Â¢ôÂ??™Â∑±?ÑË∫´‰ΩìÔ?</p>
                </div>
                <div class="game-card-body">
                    <div class="game-stats">
                        <div class="stat-item">
                            <div class="stat-label">?ÄÈ´òÂ?</div>
                            <div class="stat-value" id="snake-high-score-display">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">?Ä?øÈïøÂ∫?/div>
                            <div class="stat-value" id="snake-max-length-display">3</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Ê∏∏Ê?Ê¨°Êï∞</div>
                            <div class="stat-value" id="snake-play-count-display">0</div>
                        </div>
                    </div>
                    <ul class="game-features">
                        <li>‰∏âÁ??æÂ∫¶?âÊã©</li>
                        <li>ÂÆûÊó∂?ÄÈ´òÂ?ËÆ∞Â?</li>
                        <li>?πÂ??ÆÊéß??/li>
                        <li>ÁªèÂÖ∏Ê∏∏Ê?‰ΩìÈ?</li>
                    </ul>
                </div>
                <div class="game-card-footer">
                    <button class="play-btn" data-game="snake">ÂºÄÂßãÊ∏∏??/button>
                </div>
            </div>
        </section>
        
        <!-- Ê∏∏Ê?Â±ïÁ§∫?∫Â? -->
        <section class="game-display-area hidden" id="game-display">
            <div class="game-display-header">
                <h2 id="current-game-title">?πÂ??ÜÁ†¥</h2>
                <button class="back-to-center" id="back-to-center">ËøîÂ?Ê∏∏Ê?‰∏≠Â?</button>
            </div>
            
            <!-- ?πÂ??ÜÁ†¥Ê∏∏Ê?ÂÆπÂô® -->
            <div class="game-wrapper hidden" id="block-game">
                <div class="game-header">
                    <div class="stats-container">
                        <div class="stat-box">
                            <div class="stat-title">?ÜÊï∞</div>
                            <div class="stat-value" id="score">0</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-title">?üÂëΩ</div>
                            <div class="stat-value" id="lives">3</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-title">?≥Âç°</div>
                            <div class="stat-value" id="level">1</div>
                        </div>
                    </div>
                </div>
                
                <div class="game-area">
                    <canvas id="block-canvas" width="800" height="500"></canvas>
                    
                    <div class="powerup-active" id="powerup-active"></div>
                    
                    <div class="game-overlay game-over" id="block-game-over">
                        <h2>Ê∏∏Ê?ÁªìÊ?!</h2>
                        <p>?ÄÁªàÂ??? <span id="block-final-score">0</span></p>
                        <button id="block-play-again-btn">?çÁé©‰∏ÄÊ¨?/button>
                    </div>
                    
                    <div class="game-overlay level-complete" id="block-level-complete">
                        <h2>?≥Âç°ÂÆåÊ?!</h2>
                        <p>ËøõÂÖ•‰∏ã‰???/p>
                        <button id="block-next-level-btn">‰∏ã‰???/button>
                    </div>
                </div>
                
                <div class="game-controls">
                    <button id="block-start-btn">ÂºÄÂßãÊ∏∏??/button>
                    <button id="block-pause-btn">?ÇÂ?Ê∏∏Ê?</button>
                    <button id="block-restart-btn">?çÊñ∞ÂºÄÂß?/button>
                </div>
            </div>
            
            <!-- Ë¥™È??áÊ∏∏?èÂÆπ??-->
            <div class="game-wrapper hidden" id="snake-game">
                <div class="game-header">
                    <div class="score-container">
                        <div class="score-title">ÂΩìÂ??ÜÊï∞</div>
                        <div class="score-value" id="snake-score">0</div>
                    </div>
                    <div class="high-score-container">
                        <div class="high-score-title">?ÄÈ´òÂ???/div>
                        <div class="high-score-value" id="snake-high-score-game">0</div>
                    </div>
                </div>
                
                <div class="difficulty-selector">
                    <button class="difficulty-btn active" data-speed="150">ÁÆÄ??/button>
                    <button class="difficulty-btn" data-speed="100">‰∏≠Á?</button>
                    <button class="difficulty-btn" data-speed="70">?∞Èöæ</button>
                </div>
                
                <div class="game-area">
                    <canvas id="snake-canvas" width="600" height="400"></canvas>
                    
                    <div class="game-overlay game-over" id="snake-game-over">
                        <h2>Ê∏∏Ê?ÁªìÊ?!</h2>
                        <p>‰Ω†Á?ÂæóÂ?: <span id="snake-final-score">0</span></p>
                        <button id="snake-play-again-btn">?çÁé©‰∏ÄÊ¨?/button>
                    </div>
                </div>
                
                <div class="game-controls">
                    <button id="snake-start-btn">ÂºÄÂßãÊ∏∏??/button>
                    <button id="snake-pause-btn">?ÇÂ?Ê∏∏Ê?</button>
                    <button id="snake-restart-btn">?çÊñ∞ÂºÄÂß?/button>
                </div>
            </div>
        </section>
        
        <!-- Ê∏∏Ê?‰∏≠Â?‰ø°ÊÅØ -->
        <section class="game-center-info" id="game-center-info">
            <div class="info-card">
                <h3>Ê∏∏Ê??πËâ≤</h3>
                <p>?ë‰ª¨?ÑÊ∏∏?è‰∏≠ÂøÉÊ?‰æõ‰∏§ÁßçÁ??∏Ê∏∏?èÔ??πÂ??ÜÁ†¥?åË¥™È£üË??ÇÊ?‰∏™Ê∏∏?èÈÉΩ?âÁã¨?πÁ??©Ê??åÊ??ò„Ä?/p>
                <p>?Ä?âÊ∏∏?èÊï∞?ÆÈÉΩ‰ºö‰?Â≠òÂú®?¨Âú∞Ôºå‰??Ø‰ª•?èÊó∂?•Á??™Â∑±?ÑÊ∏∏?èËÆ∞ÂΩïÂ??êÂ∞±??/p>
            </div>
            
            <div class="info-card">
                <h3>?ßÂà∂ËØ¥Ê?</h3>
                <p><strong>?πÂ??ÜÁ†¥Ôº?/strong>‰ΩøÁî®Èº†Ê??ñÂ∑¶?≥Êñπ?ëÈîÆÁßªÂä®?°ÊùøÔºåÁ©∫?ºÈîÆ?ÇÂ?Ê∏∏Ê???/p>
                <p><strong>Ë¥™È??áÔ?</strong>‰ΩøÁî®?πÂ??ÆÊéß?∂Ë??ÑÁßª?®Êñπ?ëÔ?Á©∫Ê†º?ÆÊ??úÊ∏∏?è„Ä?/p>
                <p>‰∏§‰∏™Ê∏∏Ê??ΩÊîØ?ÅÁßª?®ËÆæÂ§áËß¶?∏Êéß?∂„Ä?/p>
            </div>
            
            <div class="info-card">
                <h3>Ê∏∏Ê?ËÆ∞Â?</h3>
                <p>?ë‰ª¨‰ºöËÆ∞ÂΩï‰??ÑÊ∏∏?èÊï∞?ÆÔ??ÖÊã¨?ÄÈ´òÂ??ÅÊ∏∏?èÊ¨°?∞Â??êÂ∞±?ÇÊ??òËá™Â∑±Ô??õÈÄ†Êñ∞Á∫™Â?Ôº?/p>
                <p>?∞ÊçÆ‰øùÂ??®Ê?ËßàÂô®?¨Âú∞Â≠òÂÇ®‰∏≠Ô?Ê∏ÖÈô§ÊµèË??®Êï∞?Æ‰??çÁΩÆËÆ∞Â???/p>
            </div>
        </section>
        
        <!-- È°µË? -->
        <footer class="game-center-footer" id="game-center-footer">
            <p>Ê∏∏Ê?‰∏≠Â? v1.0 | ?πÂ??ÜÁ†¥ & Ë¥™È??áË??àÁ?</p>
            <p>¬© 2023 Ê∏∏Ê?‰∏≠Â? | ?Ä?âÊ∏∏?è‰?‰æõÂ®±‰π?/p>
        </footer>
    </div>

    <script>
        // ===== Ê∏∏Ê?‰∏≠Â??∂ÊÄÅÁÆ°??=====
        const GameCenter = {
            currentGame: null,
            games: {
                block: {
                    name: '?πÂ??ÜÁ†¥',
                    highScore: 0,
                    highLevel: 1,
                    playCount: 0,
                    maxLength: 0
                },
                snake: {
                    name: 'Ë¥™È???,
                    highScore: 0,
                    playCount: 0,
                    maxLength: 3
                }
            },
            
            init: function() {
                this.loadGameData();
                this.bindEvents();
                this.updateGameStatsDisplay();
                this.selectGameCard('block');
            },
            
            loadGameData: function() {
                try {
                    const savedData = localStorage.getItem('gameCenterData');
                    if (savedData) {
                        const data = JSON.parse(savedData);
                        if (data.block) {
                            this.games.block.highScore = data.block.highScore || 0;
                            this.games.block.highLevel = data.block.highLevel || 1;
                            this.games.block.playCount = data.block.playCount || 0;
                        }
                        if (data.snake) {
                            this.games.snake.highScore = data.snake.highScore || 0;
                            this.games.snake.playCount = data.snake.playCount || 0;
                            this.games.snake.maxLength = data.snake.maxLength || 3;
                        }
                    }
                } catch (e) {
                    console.error('?†ËΩΩÊ∏∏Ê??∞ÊçÆÂ§±Ë¥•:', e);
                }
            },
            
            saveGameData: function() {
                try {
                    const data = {
                        block: {
                            highScore: this.games.block.highScore,
                            highLevel: this.games.block.highLevel,
                            playCount: this.games.block.playCount
                        },
                        snake: {
                            highScore: this.games.snake.highScore,
                            playCount: this.games.snake.playCount,
                            maxLength: this.games.snake.maxLength
                        }
                    };
                    localStorage.setItem('gameCenterData', JSON.stringify(data));
                } catch (e) {
                    console.error('‰øùÂ?Ê∏∏Ê??∞ÊçÆÂ§±Ë¥•:', e);
                }
            },
            
            bindEvents: function() {
                // Ê∏∏Ê??°Á??âÊã©
                document.querySelectorAll('.game-card').forEach(card => {
                    card.addEventListener('click', (e) => {
                        if (!e.target.classList.contains('play-btn')) {
                            const game = card.getAttribute('data-game');
                            this.selectGameCard(game);
                        }
                    });
                });
                
                // ÂºÄÂßãÊ∏∏?èÊ???
                document.querySelectorAll('.play-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const game = e.target.getAttribute('data-game');
                        this.startGame(game);
                    });
                });
                
                // ËøîÂ?Ê∏∏Ê?‰∏≠Â??âÈíÆ
                document.getElementById('back-to-center').addEventListener('click', () => {
                    this.returnToGameCenter();
                });
            },
            
            selectGameCard: function(game) {
                document.querySelectorAll('.game-card').forEach(card => {
                    card.classList.remove('active');
                });
                document.querySelector(`.game-card[data-game="${game}"]`).classList.add('active');
            },
            
            updateGameStatsDisplay: function() {
                // ?¥Êñ∞?πÂ??ÜÁ†¥?∞ÊçÆ
                document.getElementById('block-high-score-display').textContent = this.games.block.highScore;
                document.getElementById('block-high-level-display').textContent = this.games.block.highLevel;
                document.getElementById('block-play-count-display').textContent = this.games.block.playCount;
                
                // ?¥Êñ∞Ë¥™È??áÊï∞??
                document.getElementById('snake-high-score-display').textContent = this.games.snake.highScore;
                document.getElementById('snake-max-length-display').textContent = this.games.snake.maxLength;
                document.getElementById('snake-play-count-display').textContent = this.games.snake.playCount;
            },
            
            startGame: function(game) {
                this.currentGame = game;
                
                // ?¥Êñ∞Ê∏∏Ê??áÈ?
                document.getElementById('current-game-title').textContent = this.games[game].name;
                
                // ?æÁ§∫Ê∏∏Ê?Â±ïÁ§∫?∫Â?ÔºåÈ??èÂÖ∂‰ªñÂå∫??
                document.getElementById('game-selection').classList.add('hidden');
                document.getElementById('game-center-info').classList.add('hidden');
                document.getElementById('game-center-footer').classList.add('hidden');
                document.getElementById('game-display').classList.remove('hidden');
                
                // ?êË??Ä?âÊ∏∏?èÔ??æÁ§∫ÂΩìÂ?Ê∏∏Ê?
                document.getElementById('block-game').classList.add('hidden');
                document.getElementById('snake-game').classList.add('hidden');
                document.getElementById(`${game}-game`).classList.remove('hidden');
                
                // ?¥Êñ∞Ê∏∏Ê?Ê¨°Êï∞
                this.games[game].playCount++;
                this.saveGameData();
                this.updateGameStatsDisplay();
                
                // ?ùÂ??ñÊ∏∏??
                if (game === 'block') {
                    BlockGame.init();
                } else if (game === 'snake') {
                    SnakeGame.init();
                }
            },
            
            returnToGameCenter: function() {
                // ?úÊ≠¢ÂΩìÂ?Ê∏∏Ê?
                if (this.currentGame === 'block') {
                    BlockGame.stop();
                } else if (this.currentGame === 'snake') {
                    SnakeGame.stop();
                }
                
                // ?æÁ§∫Ê∏∏Ê?‰∏≠Â?ÔºåÈ??èÊ∏∏?èÂ?Á§∫Âå∫??
                document.getElementById('game-selection').classList.remove('hidden');
                document.getElementById('game-center-info').classList.remove('hidden');
                document.getElementById('game-center-footer').classList.remove('hidden');
                document.getElementById('game-display').classList.add('hidden');
                
                this.currentGame = null;
            },
            
            updateBlockGameStats: function(score, level) {
                if (score > this.games.block.highScore) {
                    this.games.block.highScore = score;
                }
                if (level > this.games.block.highLevel) {
                    this.games.block.highLevel = level;
                }
                this.saveGameData();
                this.updateGameStatsDisplay();
            },
            
            updateSnakeGameStats: function(score, length) {
                if (score > this.games.snake.highScore) {
                    this.games.snake.highScore = score;
                }
                if (length > this.games.snake.maxLength) {
                    this.games.snake.maxLength = length;
                }
                this.saveGameData();
                this.updateGameStatsDisplay();
            },
            
            // ?ùÂ??ñÊ∏∏?è‰∏≠Âø?
            init: function() {
                this.loadGameData();
                this.updateGameStatsDisplay();
                this.bindEvents();
                
                // Ê∑ªÂ? roundRect polyfill ?®‰?ÁªòÂà∂?ÜË??°Êùø
                if (!CanvasRenderingContext2D.prototype.roundRect) {
                    CanvasRenderingContext2D.prototype.roundRect = function(x, y, width, height, radius) {
                        if (width < 2 * radius) radius = width / 2;
                        if (height < 2 * radius) radius = height / 2;
                        this.beginPath();
                        this.moveTo(x + radius, y);
                        this.arcTo(x + width, y, x + width, y + height, radius);
                        this.arcTo(x + width, y + height, x, y + height, radius);
                        this.arcTo(x, y + height, x, y, radius);
                        this.arcTo(x, y, x + width, y, radius);
                        this.closePath();
                        return this;
                    };
                }

                // ?ùÂ??ñÊ∏∏?èÂØπË±?
                BlockGame = {
    gameRunning: false,
    gamePaused: false,
    animationId: null,
    score: 0,
    level: 1,
    lives: 3,
    
    // Game settings
    paddleHeight: 15,
    paddleMinWidth: 100,
    paddleMaxWidth: 200,
    ballSize: 12,
    brickRows: 8,
    brickCols: 10,
    brickPadding: 5,
    brickOffsetTop: 60,
    brickOffsetLeft: 35,
    
    // Game state
    paddleWidth: 120,
    paddleX: 0,
    ballX: 0,
    ballY: 0,
    ballSpeedX: 0,
    ballSpeedY: 0,
    ballSpeed: 5,
    rightPressed: false,
    leftPressed: false,
    
    // Bricks and power-ups
    bricks: [],
    powerups: [],
    
    // Power-up types
    POWERUP_TYPES: {
        EXTEND_PADDLE: { color: '#4cc9f0', name: '?°Êùø?©Â§ß', duration: 10000 },
        SPEED_BALL: { color: '#ff9e00', name: '?ÉÂ???, duration: 8000 },
        EXTRA_LIFE: { color: '#72efdd', name: 'È¢ùÂ??üÂëΩ', duration: 0 },
        PIERCE_BALL: { color: '#f72585', name: 'Á©øÈÄèÁ?', duration: 5000 }
    },
    
    activePowerup: null,
    powerupTimer: 0,
    
    init: function() {
        console.log('?πÂ??ÜÁ†¥Ê∏∏Ê??ùÂ??ñÔ?Â¢ûÂº∫?àÔ?');
        // ?∑Â??ªÂ??å‰?‰∏ãÊ?
        const canvas = document.getElementById('block-canvas');
        const ctx = canvas.getContext('2d');
        
        // ËÆæÁΩÆ?ùÂ?Ê∏∏Ê??∂ÊÄ?
        canvas.style.display = 'block';
        this.canvas = canvas;
        this.ctx = ctx;
        
        // ?ùÂ??ñÊ∏∏?èÂ???
        this.paddleWidth = 120;
        this.paddleX = (canvas.width - this.paddleWidth) / 2;
        this.ballX = canvas.width / 2;
        this.ballY = canvas.height - 50;
        this.ballSpeed = 5;
        this.ballSpeedX = this.ballSpeed;
        this.ballSpeedY = -this.ballSpeed;
        
        // ?ùÂ??ñÊñπ??
        this.initBricks();
        
        // Ê∏ÖÁ©∫?ΩÈ??êÂ?
        this.powerups = [];
        this.activePowerup = null;
        this.powerupTimer = 0;
        document.getElementById('powerup-active').style.display = 'none';
        
        // ÁªëÂ?Ê∏∏Ê??ßÂà∂?âÈíÆ‰∫ã‰ª∂
        document.getElementById('block-start-btn').addEventListener('click', () => {
            this.startGame();
        });
        
        document.getElementById('block-pause-btn').addEventListener('click', () => {
            this.togglePause();
        });
        
        document.getElementById('block-restart-btn').addEventListener('click', () => {
            this.restartGame();
        });
        
        document.getElementById('block-play-again-btn').addEventListener('click', () => {
            this.restartGame();
        });
        
        document.getElementById('block-next-level-btn').addEventListener('click', () => {
            this.nextLevel();
        });
        
        // ÁªëÂ??ÆÁ??ßÂà∂
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Right' || e.key === 'ArrowRight') {
                this.rightPressed = true;
            } else if (e.key === 'Left' || e.key === 'ArrowLeft') {
                this.leftPressed = true;
            } else if (e.code === 'Space') {
                e.preventDefault();
                this.togglePause();
            }
        });
        
        document.addEventListener('keyup', (e) => {
            if (e.key === 'Right' || e.key === 'ArrowRight') {
                this.rightPressed = false;
            } else if (e.key === 'Left' || e.key === 'ArrowLeft') {
                this.leftPressed = false;
            }
        });
        
        // ÁªëÂ?Èº†Ê?ÁßªÂä®‰∫ã‰ª∂
        canvas.addEventListener('mousemove', (e) => {
            if (!this.gameRunning || this.gamePaused) return;
            
            const relativeX = e.clientX - canvas.getBoundingClientRect().left;
            if (relativeX > 0 && relativeX < canvas.width) {
                this.paddleX = relativeX - this.paddleWidth / 2;
                
                // Á°Æ‰??°Êùø‰∏çË??∫ÁîªÂ∏?
                if (this.paddleX < 0) {
                    this.paddleX = 0;
                } else if (this.paddleX > canvas.width - this.paddleWidth) {
                    this.paddleX = canvas.width - this.paddleWidth;
                }
            }
        });
        
        // ÁªòÂà∂?ùÂ?Ê∏∏Ê??ªÈù¢
        this.drawInitialScreen();
    },
    
    initBricks: function() {
        this.bricks = [];
        
        // ‰∏çÂ??≥Âç°?â‰??åÁ??πÂ?Â∏ÉÂ?
        let brickColors;
        if (this.level === 1) {
            brickColors = ['#3a86ff', '#4361ee', '#4cc9f0', '#4895ef', '#7209b7'];
        } else if (this.level === 2) {
            brickColors = ['#ff9e00', '#ff9100', '#ff8500', '#ff6d00', '#ff5400'];
        } else {
            brickColors = ['#f72585', '#b5179e', '#7209b7', '#560bad', '#480ca8'];
        }
        
        // ËÆ°Á??πÂ?Â∞∫ÂØ∏
        const brickWidth = (this.canvas.width - 2 * this.brickOffsetLeft - (this.brickCols - 1) * this.brickPadding) / this.brickCols;
        const brickHeight = 22;
        
        // ?õÂª∫?πÂ?
        for (let c = 0; c < this.brickCols; c++) {
            this.bricks[c] = [];
            for (let r = 0; r < this.brickRows; r++) {
                // ?èÊú∫?≥Â??ØÂê¶‰∏∫ÁâπÊÆäÊñπ?óÔ??âËêΩ?ΩÈ??êÂ?Ôº?
                const isPowerupBrick = Math.random() < 0.15 && r < this.brickRows - 2;
                
                this.bricks[c][r] = {
                    x: c * (brickWidth + this.brickPadding) + this.brickOffsetLeft,
                    y: r * (brickHeight + this.brickPadding) + this.brickOffsetTop,
                    width: brickWidth,
                    height: brickHeight,
                    color: brickColors[r % brickColors.length],
                    status: 1, // 1Ë°®Á§∫Â≠òÂú®Ôº?Ë°®Á§∫Ë¢´ÊëßÊØ?
                    isPowerupBrick: isPowerupBrick
                };
            }
        }
    },
    
    drawInitialScreen: function() {
        this.ctx.fillStyle = '#0f0c29';
        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
        
        this.ctx.fillStyle = '#3a86ff';
        this.ctx.font = '24px Arial';
        this.ctx.textAlign = 'center';
        this.ctx.fillText('?πÂ??ÜÁ†¥Ê∏∏Ê?ÔºàÂ?Âº∫Á?Ôº?, this.canvas.width/2, this.canvas.height/2 - 30);
        this.ctx.font = '16px Arial';
        this.ctx.fillText('?πÂáª"ÂºÄÂßãÊ∏∏???âÈíÆÂºÄÂßãÊ∏∏??, this.canvas.width/2, this.canvas.height/2 + 20);
        this.ctx.fillText('‰ΩøÁî®Èº†Ê??ñÊñπ?ëÈîÆÁßªÂä®?°Êùø', this.canvas.width/2, this.canvas.height/2 + 50);
        this.ctx.fillText('Á©∫Ê†º?ÆÊ??úÊ∏∏??, this.canvas.width/2, this.canvas.height/2 + 80);
    },
    
    startGame: function() {
        if (!this.gameRunning) {
            this.gameRunning = true;
            this.gamePaused = false;
            this.score = 0;
            this.lives = 3;
            this.level = 1;
            
            // ?¥Êñ∞?æÁ§∫
            this.updateDisplay();
            
            // ?ùÂ??ñÊ∏∏?èÁä∂??
            this.paddleWidth = 120;
            this.paddleX = (this.canvas.width - this.paddleWidth) / 2;
            this.ballX = this.canvas.width / 2;
            this.ballY = this.canvas.height - 50;
            this.ballSpeed = 5 + (this.level - 1) * 0.5;
            this.ballSpeedX = this.ballSpeed;
            this.ballSpeedY = -this.ballSpeed;
            
            this.initBricks();
            this.powerups = [];
            this.activePowerup = null;
            this.powerupTimer = 0;
            document.getElementById('powerup-active').style.display = 'none';
            
            // ?êË?Ê∏∏Ê?ÁªìÊ??åÂÖ≥?°Â??êÁ???
            document.getElementById('block-game-over').classList.add('hidden');
            document.getElementById('block-level-complete').classList.add('hidden');
            
            // ÂºÄÂßãÊ∏∏?èÂæ™??
            this.gameLoop();
        }
    },
    
    gameLoop: function() {
        if (!this.gameRunning || this.gamePaused) {
            return;
        }
        
        this.update();
        this.draw();
        
        if (this.gameRunning && !this.gamePaused) {
            this.animationId = requestAnimationFrame(() => this.gameLoop());
        }
    },
    
    update: function() {
        // ÁßªÂä®?°Êùø
        if (this.rightPressed && this.paddleX < this.canvas.width - this.paddleWidth) {
            this.paddleX += 7;
        } else if (this.leftPressed && this.paddleX > 0) {
            this.paddleX -= 7;
        }
        
        // ÁßªÂä®??
        this.ballX += this.ballSpeedX;
        this.ballY += this.ballSpeedY;
        
        // Ê£ÄÊµãÁ?‰∏éÂ?Â£ÅÁ¢∞??
        // Â∑¶Âè≥Â¢?
        if (this.ballX + this.ballSpeedX > this.canvas.width - this.ballSize || this.ballX + this.ballSpeedX < this.ballSize) {
            this.ballSpeedX = -this.ballSpeedX;
        }
        
        // ‰∏äÂ?
        if (this.ballY + this.ballSpeedY < this.ballSize) {
            this.ballSpeedY = -this.ballSpeedY;
        }
        
        // ‰∏ãÂ?ÔºàÊ??∫Â?ÂπïÔ?
        else if (this.ballY + this.ballSpeedY > this.canvas.height - this.ballSize) {
            // Ê£ÄÊµãÁ?‰∏éÊå°?øÁ¢∞??
            if (this.ballX > this.paddleX && this.ballX < this.paddleX + this.paddleWidth) {
                // ?πÊçÆ?ª‰∏≠?°Êùø?Ñ‰?ÁΩÆÊîπ?òÂ?ÂºπË?Â∫?
                const hitPoint = (this.ballX - this.paddleX) / this.paddleWidth;
                const angle = hitPoint * Math.PI - Math.PI / 2; // -90¬∞ ??90¬∞
                
                // ËÆ°Á??∞Á??üÂ∫¶
                const speed = Math.sqrt(this.ballSpeedX * this.ballSpeedX + this.ballSpeedY * this.ballSpeedY);
                this.ballSpeedX = speed * Math.cos(angle);
                this.ballSpeedY = -speed * Math.sin(angle);
            } else {
                // ?ÉÊ??∫Â?ÂπïÔ?Â§±Âéª‰∏Ä?°Á???
                this.loseLife();
                return;
            }
        }
        
        // Ê£ÄÊµãÁ?‰∏éÊñπ?óÁ¢∞??
        this.detectBrickCollision();
        
        // ?¥Êñ∞?ΩÈ??êÂ?‰ΩçÁΩÆ
        this.updatePowerups();
        
        // Ê£Ä?•ËÉΩ?èÊ??áÊòØ?¶Ë???
        this.checkPowerupExpiry();
        
        // Ê£Ä?•ÊòØ?¶Â??êÂÖ≥??
        if (this.checkLevelComplete()) {
            this.levelComplete();
            return;
        }
    },
    
    detectBrickCollision: function() {
        for (let c = 0; c < this.brickCols; c++) {
            for (let r = 0; r < this.brickRows; r++) {
                const brick = this.bricks[c][r];
                if (brick.status === 1) {
                    // Ê£ÄÊµãÁ¢∞??
                    if (
                        this.ballX > brick.x &&
                        this.ballX < brick.x + brick.width &&
                        this.ballY > brick.y &&
                        this.ballY < brick.y + brick.height
                    ) {
                        // Â¶ÇÊ??ÉÊ?Á©øÈÄèËÉΩ?õÔ?‰∏çÊîπ?òÊñπ??
                        if (!this.activePowerup || this.activePowerup.name !== this.POWERUP_TYPES.PIERCE_BALL.name) {
                            // Á°ÆÂ?‰ªéÂì™ËæπÁ¢∞??
                            const prevX = this.ballX - this.ballSpeedX;
                            const prevY = this.ballY - this.ballSpeedY;
                            
                            // ‰ªéÂ∑¶?≥Á¢∞??
                            if (prevX <= brick.x || prevX >= brick.x + brick.width) {
                                this.ballSpeedX = -this.ballSpeedX;
                            }
                            // ‰ªé‰?‰∏ãÁ¢∞??
                            else {
                                this.ballSpeedY = -this.ballSpeedY;
                            }
                        }
                        
                        // ?ßÊ??πÂ?
                        brick.status = 0;
                        
                        // Â¢ûÂ??ÜÊï∞
                        this.score += 10 * this.level;
                        this.updateDisplay();
                        
                        // Â¶ÇÊ??ØÁâπÊÆäÊñπ?óÔ??üÊ??ΩÈ??êÂ?
                        if (brick.isPowerupBrick) {
                            this.createPowerup(brick.x + brick.width / 2, brick.y + brick.height / 2);
                        }
                        
                        // Â¶ÇÊ?Ê≤°Ê?Á©øÈÄèËÉΩ?õÔ?Ë∑≥Âá∫Âæ™ÁéØ
                        if (!this.activePowerup || this.activePowerup.name !== this.POWERUP_TYPES.PIERCE_BALL.name) {
                            return;
                        }
                    }
                }
            }
        }
    },
    
    createPowerup: function(x, y) {
        // ?èÊú∫?âÊã©?ΩÈ??êÂ?Á±ªÂ?
        const powerupTypes = Object.values(this.POWERUP_TYPES);
        const randomType = powerupTypes[Math.floor(Math.random() * powerupTypes.length)];
        
        this.powerups.push({
            x: x,
            y: y,
            type: randomType,
            color: randomType.color,
            speed: 2
        });
    },
    
    updatePowerups: function() {
        for (let i = this.powerups.length - 1; i >= 0; i--) {
            const powerup = this.powerups[i];
            
            // ?ë‰?ÁßªÂä®?ΩÈ??êÂ?
            powerup.y += powerup.speed;
            
            // Ê£ÄÊµãËÉΩ?èÊ??á‰??°ÊùøÁ¢∞Ê?
            if (
                powerup.y > this.canvas.height - this.paddleHeight &&
                powerup.y < this.canvas.height &&
                powerup.x > this.paddleX &&
                powerup.x < this.paddleX + this.paddleWidth
            ) {
                // ÊøÄÊ¥ªËÉΩ?èÊ???
                this.activatePowerup(powerup.type);
                
                // ‰ªéÊï∞ÁªÑ‰∏≠ÁßªÈô§
                this.powerups.splice(i, 1);
            }
            // Â¶ÇÊ??ΩÈ??êÂ??âÂá∫Â±èÂ?ÔºåÁßª?§Â?
            else if (powerup.y > this.canvas.height) {
                this.powerups.splice(i, 1);
            }
        }
    },
    
    activatePowerup: function(powerupType) {
        this.activePowerup = powerupType;
        
        // ?æÁ§∫ÊøÄÊ¥ªÊ?Á§?
        const powerupActiveElement = document.getElementById('powerup-active');
        powerupActiveElement.textContent = `${powerupType.name} Â∑≤Ê?Ê¥?`;
        powerupActiveElement.style.display = 'block';
        powerupActiveElement.style.backgroundColor = powerupType.color;
        
        // ËÆæÁΩÆ?ΩÈ??êÂ?ËÆ°Êó∂??
        if (powerupType.duration > 0) {
            this.powerupTimer = Date.now() + powerupType.duration;
        }
        
        // Â∫îÁî®?ΩÈ??êÂ??àÊ?
        switch(powerupType.name) {
            case this.POWERUP_TYPES.EXTEND_PADDLE.name:
                this.paddleWidth = Math.min(this.paddleWidth + 40, this.paddleMaxWidth);
                break;
            case this.POWERUP_TYPES.SPEED_BALL.name:
                this.ballSpeedX *= 1.5;
                this.ballSpeedY *= 1.5;
                break;
            case this.POWERUP_TYPES.EXTRA_LIFE.name:
                this.lives++;
                this.updateDisplay();
                break;
            case this.POWERUP_TYPES.PIERCE_BALL.name:
                // Á©øÈÄèÊ??úÂ∑≤?®Á¢∞?ûÊ?Êµã‰∏≠Â§ÑÁ?
                break;
        }
        
        // 3ÁßíÂ??êË??êÁ§∫
        setTimeout(() => {
            powerupActiveElement.style.display = 'none';
        }, 3000);
    },
    
    checkPowerupExpiry: function() {
        if (this.activePowerup && this.activePowerup.duration > 0 && Date.now() > this.powerupTimer) {
            // ÁßªÈô§?ΩÈ??êÂ??àÊ?
            switch(this.activePowerup.name) {
                case this.POWERUP_TYPES.EXTEND_PADDLE.name:
                    this.paddleWidth = Math.max(this.paddleWidth - 40, this.paddleMinWidth);
                    break;
                case this.POWERUP_TYPES.SPEED_BALL.name:
                    this.ballSpeedX /= 1.5;
                    this.ballSpeedY /= 1.5;
                    break;
                case this.POWERUP_TYPES.PIERCE_BALL.name:
                    // ?†È??¢Â?ÔºåÂè™?ØÂ?Ê≠¢Á©ø?èÊ???
                    break;
            }
            
            // Ê∏ÖÈô§ÂΩìÂ??ΩÈ??êÂ?
            this.activePowerup = null;
            document.getElementById('powerup-active').style.display = 'none';
        }
    },
    
    loseLife: function() {
        this.lives--;
        this.updateDisplay();
        
        if (this.lives <= 0) {
            this.gameOver();
        } else {
            // ?çÁΩÆ?ÉÂ??°Êùø‰ΩçÁΩÆ
            this.ballX = this.canvas.width / 2;
            this.ballY = this.canvas.height - 50;
            this.ballSpeedX = this.ballSpeed;
            this.ballSpeedY = -this.ballSpeed;
            this.paddleX = (this.canvas.width - this.paddleWidth) / 2;
            
            // ÁªòÂà∂‰∏ÄÊ¨?
            this.draw();
        }
    },
    
    checkLevelComplete: function() {
        for (let c = 0; c < this.brickCols; c++) {
            for (let r = 0; r < this.brickRows; r++) {
                if (this.bricks[c][r].status === 1) {
                    return false;
                }
            }
        }
        return true;
    },
    
    levelComplete: function() {
        this.gameRunning = false;
        cancelAnimationFrame(this.animationId);
        
        // ?æÁ§∫?≥Âç°ÂÆåÊ??ªÈù¢
        document.getElementById('block-level-complete').classList.remove('hidden');
        
        // ?¥Êñ∞Ê∏∏Ê?‰∏≠Â??∞ÊçÆ
        GameCenter.updateBlockGameStats(this.score, this.level);
    },
    
    gameOver: function() {
        this.gameRunning = false;
        cancelAnimationFrame(this.animationId);
        
        // ?æÁ§∫?ÄÁªàÂ???
        document.getElementById('block-final-score').textContent = this.score;
        
        // ?æÁ§∫Ê∏∏Ê?ÁªìÊ??ªÈù¢
        document.getElementById('block-game-over').classList.remove('hidden');
        
        // ?¥Êñ∞Ê∏∏Ê?‰∏≠Â??∞ÊçÆ
        GameCenter.updateBlockGameStats(this.score, this.level);
    },
    
    draw: function() {
        // Ê∏ÖÁ©∫?ªÂ?
        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
        
        // ÁªòÂà∂?åÊôØ
        this.drawBackground();
        
        // ÁªòÂà∂?πÂ?
        this.drawBricks();
        
        // ÁªòÂà∂?°Êùø
        this.drawPaddle();
        
        // ÁªòÂà∂??
        this.drawBall();
        
        // ÁªòÂà∂?ΩÈ??êÂ?
        this.drawPowerups();
        
        // ÁªòÂà∂?ΩÈ??êÂ?ÊøÄÊ¥ªÊ?Á§?
        if (this.activePowerup) {
            const timeLeft = Math.ceil((this.powerupTimer - Date.now()) / 1000);
            if (timeLeft > 0) {
                const powerupActiveElement = document.getElementById('powerup-active');
                powerupActiveElement.textContent = `${this.activePowerup.name} - ${timeLeft}Áßí`;
            }
        }
    },
    
    drawBackground: function() {
        // Ê∏êÂ??åÊôØ
        const gradient = this.ctx.createLinearGradient(0, 0, 0, this.canvas.height);
        gradient.addColorStop(0, '#0a0e27');
        gradient.addColorStop(1, '#1a1f4e');
        this.ctx.fillStyle = gradient;
        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
        
        // ÁªòÂà∂ÁΩëÊ†º
        this.ctx.strokeStyle = 'rgba(58, 134, 255, 0.1)';
        this.ctx.lineWidth = 1;
        
        // ?ÇÁõ¥Á∫?
        for (let x = 0; x <= this.canvas.width; x += 40) {
            this.ctx.beginPath();
            this.ctx.moveTo(x, 0);
            this.ctx.lineTo(x, this.canvas.height);
            this.ctx.stroke();
        }
        
        // Ê∞¥Âπ≥Á∫?
        for (let y = 0; y <= this.canvas.height; y += 40) {
            this.ctx.beginPath();
            this.ctx.moveTo(0, y);
            this.ctx.lineTo(this.canvas.width, y);
            this.ctx.stroke();
        }
    },
    
    drawBricks: function() {
        for (let c = 0; c < this.brickCols; c++) {
            for (let r = 0; r < this.brickRows; r++) {
                const brick = this.bricks[c][r];
                if (brick.status === 1) {
                    // ÁªòÂà∂?πÂ?
                    this.ctx.fillStyle = brick.color;
                    this.ctx.fillRect(brick.x, brick.y, brick.width, brick.height);
                    
                    // ?πÂ?ËæπÊ?
                    this.ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
                    this.ctx.lineWidth = 2;
                    this.ctx.strokeRect(brick.x, brick.y, brick.width, brick.height);
                    
                    // Â¶ÇÊ??ØÁâπÊÆäÊñπ?óÔ?ÁªòÂà∂?πÊ??áËÆ∞
                    if (brick.isPowerupBrick) {
                        this.ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
                        this.ctx.beginPath();
                        this.ctx.arc(
                            brick.x + brick.width / 2,
                            brick.y + brick.height / 2,
                            brick.height / 4,
                            0,
                            Math.PI * 2
                        );
                        this.ctx.fill();
                    }
                }
            }
        }
    },
    
    drawPaddle: function() {
        // ?°ÊùøÊ∏êÂ?
        const gradient = this.ctx.createLinearGradient(this.paddleX, this.canvas.height - this.paddleHeight, this.paddleX, this.canvas.height);
        gradient.addColorStop(0, '#3a86ff');
        gradient.addColorStop(1, '#4361ee');
        this.ctx.fillStyle = gradient;
        
        // ÁªòÂà∂?°Êùø
        this.ctx.beginPath();
        this.ctx.roundRect(this.paddleX, this.canvas.height - this.paddleHeight, this.paddleWidth, this.paddleHeight, 10);
        this.ctx.fill();
        
        // ?°ÊùøËæπÊ?
        this.ctx.strokeStyle = '#4cc9f0';
        this.ctx.lineWidth = 2;
        this.ctx.stroke();
        
        // ?°Êùø?ÖÈÉ®Ë£ÖÈ•∞
        this.ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
        this.ctx.fillRect(this.paddleX + 10, this.canvas.height - this.paddleHeight + 5, this.paddleWidth - 20, 3);
    },
    
    drawBall: function() {
        // ?πÊçÆ?ΩÈ??êÂ??∂ÊÄÅÊîπ?òÁ??ÑÈ???
        let ballColor = '#ffffff';
        if (this.activePowerup && this.activePowerup.name === this.POWERUP_TYPES.PIERCE_BALL.name) {
            ballColor = '#f72585';
        } else if (this.activePowerup && this.activePowerup.name === this.POWERUP_TYPES.SPEED_BALL.name) {
            ballColor = '#ff9e00';
        }
        
        // ?É‰?Ê∏êÂ?
        const gradient = this.ctx.createRadialGradient(
            this.ballX, this.ballY, 0,
            this.ballX, this.ballY, this.ballSize
        );
        gradient.addColorStop(0, ballColor);
        gradient.addColorStop(1, this.darkenColor(ballColor, 40));
        
        this.ctx.fillStyle = gradient;
        
        // ÁªòÂà∂??
        this.ctx.beginPath();
        this.ctx.arc(this.ballX, this.ballY, this.ballSize, 0, Math.PI * 2);
        this.ctx.fill();
        
        // ?É‰?È´òÂ?
        this.ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
        this.ctx.beginPath();
        this.ctx.arc(this.ballX - this.ballSize/3, this.ballY - this.ballSize/3, this.ballSize/3, 0, Math.PI * 2);
        this.ctx.fill();
    },
    
    drawPowerups: function() {
        for (let i = 0; i < this.powerups.length; i++) {
            const powerup = this.powerups[i];
            
            // ÁªòÂà∂?ΩÈ??êÂ?
            this.ctx.fillStyle = powerup.color;
            this.ctx.beginPath();
            this.ctx.arc(powerup.x, powerup.y, 8, 0, Math.PI * 2);
            this.ctx.fill();
            
            // ?ΩÈ??êÂ?ËæπÊ?
            this.ctx.strokeStyle = 'white';
            this.ctx.lineWidth = 1;
            this.ctx.stroke();
            
            // ?ΩÈ??êÂ??ëÂ??àÊ?
            this.ctx.shadowColor = powerup.color;
            this.ctx.shadowBlur = 10;
            this.ctx.beginPath();
            this.ctx.arc(powerup.x, powerup.y, 6, 0, Math.PI * 2);
            this.ctx.fill();
            this.ctx.shadowBlur = 0;
        }
    },
    
    updateDisplay: function() {
        document.getElementById('score').textContent = this.score;
        document.getElementById('lives').textContent = this.lives;
        document.getElementById('level').textContent = this.level;
    },
    
    togglePause: function() {
        if (!this.gameRunning) return;
        
        if (this.gamePaused) {
            // ÁªßÁª≠Ê∏∏Ê?
            this.gamePaused = false;
            document.getElementById('block-pause-btn').textContent = "?ÇÂ?Ê∏∏Ê?";
            this.gameLoop();
        } else {
            // ?ÇÂ?Ê∏∏Ê?
            this.gamePaused = true;
            document.getElementById('block-pause-btn').textContent = "ÁªßÁª≠Ê∏∏Ê?";
            cancelAnimationFrame(this.animationId);
            
            // ÁªòÂà∂?ÇÂ??áÊú¨
            this.ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
            this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
            
            this.ctx.fillStyle = '#ff9e00';
            this.ctx.font = 'bold 60px Arial';
            this.ctx.textAlign = 'center';
            this.ctx.fillText('Ê∏∏Ê??ÇÂ?', this.canvas.width / 2, this.canvas.height / 2);
            
            this.ctx.fillStyle = 'white';
            this.ctx.font = '30px Arial';
            this.ctx.fillText('?âÁ©∫?ºÈîÆ?ñÁÇπ?ªÊ??ÆÁªßÁª?, this.canvas.width / 2, this.canvas.height / 2 + 60);
        }
    },
    
    restartGame: function() {
        // ?çÁΩÆÊ∏∏Ê??∂ÊÄ?
        this.score = 0;
        this.lives = 3;
        this.level = 1;
        
        // ?¥Êñ∞?æÁ§∫
        this.updateDisplay();
        
        // ?ùÂ??ñÊ∏∏??
        this.init();
        
        // ?êË?Ê∏∏Ê?ÁªìÊ??ªÈù¢
        document.getElementById('block-game-over').classList.add('hidden');
        document.getElementById('block-level-complete').classList.add('hidden');
        
        // ?úÊ≠¢ÂΩìÂ?Ê∏∏Ê?Âæ™ÁéØ
        if (this.gameRunning) {
            cancelAnimationFrame(this.animationId);
        }
        
        // ÂºÄÂßãÊñ∞Ê∏∏Ê?
        this.startGame();
    },
    
    nextLevel: function() {
        this.level++;
        // ?¥Êñ∞?æÁ§∫
        this.updateDisplay();
        
        // ?êË??≥Âç°ÂÆåÊ??ªÈù¢
        document.getElementById('block-level-complete').classList.add('hidden');
        
        // ?ùÂ??ñÊñ∞?≥Âç°
        this.init();
        
        // ÂºÄÂßãÊ∏∏??
        this.startGame();
    },
    
    stop: function() {
        console.log('?πÂ??ÜÁ†¥Ê∏∏Ê??úÊ≠¢');
        this.gameRunning = false;
        this.gamePaused = false;
        
        if (this.animationId) {
            cancelAnimationFrame(this.animationId);
            this.animationId = null;
        }
        
        // Ê∏ÖÈô§?ªÂ?
        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
        
        // ?æÁ§∫?úÊ≠¢Ê∂àÊÅØ
        this.ctx.fillStyle = '#0f0c29';
        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
        this.ctx.fillStyle = '#ff9e00';
        this.ctx.font = '20px Arial';
        this.ctx.textAlign = 'center';
        this.ctx.fillText('Ê∏∏Ê?Â∑≤Â?Ê≠?, this.canvas.width/2, this.canvas.height/2);
    },
    
    darkenColor: function(color, percent) {
        const num = parseInt(color.replace("#", ""), 16);
        const amt = Math.round(2.55 * percent);
        const R = (num >> 16) - amt;
        const G = (num >> 8 & 0x00FF) - amt;
        const B = (num & 0x0000FF) - amt;
        
        return "#" + (
            0x1000000 +
            (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 +
            (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 +
            (B < 255 ? B < 1 ? 0 : B : 255)
        ).toString(16).slice(1);
    }
};
                
                SnakeGame = {
                    gameRunning: false,
                    gamePaused: false,
                    gameInterval: null,
                    score: 0,
                    highScore: 0,
                    speed: 150, // ÈªòËÆ§?üÂ∫¶ÔºàÊØ´ÁßíÔ?
                    
                    init: function() {
                        console.log('Ë¥™È??áÊ∏∏?èÂ?ÂßãÂ?');
                        // ?∑Â??ªÂ??å‰?‰∏ãÊ?
                        const canvas = document.getElementById('snake-canvas');
                        const ctx = canvas.getContext('2d');
                        
                        // ËÆæÁΩÆ?ùÂ?Ê∏∏Ê??∂ÊÄ?
                        canvas.style.display = 'block';
                        this.canvas = canvas;
                        this.ctx = ctx;
                        
                        // Ê∏∏Ê??òÈ?
                        this.gridSize = 20;
                        this.snake = [
                            {x: 10, y: 10},
                            {x: 9, y: 10},
                            {x: 8, y: 10}
                        ];
                        this.direction = 'right';
                        this.nextDirection = 'right';
                        this.food = this.generateFood();
                        this.foodEaten = false;
                        
                        // ÁªëÂ?Ê∏∏Ê??ßÂà∂?âÈíÆ‰∫ã‰ª∂
                        document.getElementById('snake-start-btn').addEventListener('click', () => {
                            this.startGame();
                        });
                        
                        document.getElementById('snake-pause-btn').addEventListener('click', () => {
                            this.togglePause();
                        });
                        
                        document.getElementById('snake-restart-btn').addEventListener('click', () => {
                            this.restartGame();
                        });
                        
                        document.getElementById('snake-play-again-btn').addEventListener('click', () => {
                            this.restartGame();
                        });
                        
                        // ÁªëÂ??æÂ∫¶?âÊã©?âÈíÆ
                        document.querySelectorAll('.difficulty-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                document.querySelectorAll('.difficulty-btn').forEach(b => b.classList.remove('active'));
                                e.target.classList.add('active');
                                this.speed = parseInt(e.target.dataset.speed);
                                console.log('?âÊã©?æÂ∫¶:', e.target.textContent, '?üÂ∫¶:', this.speed);
                                
                                // Â¶ÇÊ?Ê∏∏Ê?Ê≠?ú®ËøêË?ÔºåÊõ¥?∞Ê∏∏?èÈÄüÂ∫¶
                                if (this.gameRunning && !this.gamePaused) {
                                    clearInterval(this.gameInterval);
                                    this.gameInterval = setInterval(() => this.gameLoop(), this.speed);
                                }
                            });
                        });
                        
                        // ÁªëÂ??ÆÁ??ßÂà∂
                        document.addEventListener('keydown', (e) => {
                            this.handleKeyPress(e);
                        });
                        
                        // ÁªòÂà∂?ùÂ?Ê∏∏Ê??ªÈù¢
                        this.drawInitialScreen();
                    },
                    
                    drawInitialScreen: function() {
                        this.ctx.fillStyle = '#1a1a2e';
                        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                        
                        this.ctx.fillStyle = '#4CAF50';
                        this.ctx.font = '24px Arial';
                        this.ctx.textAlign = 'center';
                        this.ctx.fillText('Ë¥™È??áÊ∏∏??, this.canvas.width/2, this.canvas.height/2 - 30);
                        this.ctx.font = '16px Arial';
                        this.ctx.fillText('?πÂáª"ÂºÄÂßãÊ∏∏???âÈíÆÂºÄÂßãÊ∏∏??, this.canvas.width/2, this.canvas.height/2 + 20);
                        this.ctx.fillText('‰ΩøÁî®?πÂ??ÆÊéß?∂Ë??ÑÁßª??, this.canvas.width/2, this.canvas.height/2 + 50);
                    },
                    
                    generateFood: function() {
                        const gridWidth = this.canvas.width / this.gridSize;
                        const gridHeight = this.canvas.height / this.gridSize;
                        
                        let food;
                        let onSnake;
                        
                        do {
                            onSnake = false;
                            food = {
                                x: Math.floor(Math.random() * gridWidth),
                                y: Math.floor(Math.random() * gridHeight)
                            };
                            
                            // Ê£Ä?•È??©ÊòØ?¶Âú®?áË∫´‰∏?
                            for (let segment of this.snake) {
                                if (segment.x === food.x && segment.y === food.y) {
                                    onSnake = true;
                                    break;
                                }
                            }
                        } while (onSnake);
                        
                        return food;
                    },
                    
                    startGame: function() {
                        if (!this.gameRunning) {
                            this.gameRunning = true;
                            this.gamePaused = false;
                            this.score = 0;
                            
                            // ?çÁΩÆ??
                            this.snake = [
                                {x: 10, y: 10},
                                {x: 9, y: 10},
                                {x: 8, y: 10}
                            ];
                            this.direction = 'right';
                            this.nextDirection = 'right';
                            this.food = this.generateFood();
                            this.foodEaten = false;
                            
                            // ?¥Êñ∞?æÁ§∫
                            this.updateDisplay();
                            
                            // ÂºÄÂßãÊ∏∏?èÂæ™??
                            this.gameInterval = setInterval(() => this.gameLoop(), this.speed);
                            
                            // ?êË?Ê∏∏Ê?ÁªìÊ??åÈù¢
                            document.getElementById('snake-game-over').classList.add('hidden');
                        }
                    },
                    
                    gameLoop: function() {
                        if (!this.gameRunning || this.gamePaused) {
                            return;
                        }
                        
                        // ?¥Êñ∞?πÂ?
                        this.direction = this.nextDirection;
                        
                        // ÁßªÂä®??
                        this.moveSnake();
                        
                        // Ê£Ä?•Á¢∞??
                        if (this.checkCollision()) {
                            this.gameOver();
                            return;
                        }
                        
                        // Ê£Ä?•ÊòØ?¶Â??∞È???
                        this.checkFood();
                        
                        // ÁªòÂà∂Ê∏∏Ê?
                        this.draw();
                    },
                    
                    moveSnake: function() {
                        // ?õÂª∫?∞Á??áÂ§¥
                        const head = {...this.snake[0]};
                        
                        switch (this.direction) {
                            case 'up':
                                head.y -= 1;
                                break;
                            case 'down':
                                head.y += 1;
                                break;
                            case 'left':
                                head.x -= 1;
                                break;
                            case 'right':
                                head.x += 1;
                                break;
                        }
                        
                        // Ê∑ªÂ??∞Á??áÂ§¥
                        this.snake.unshift(head);
                        
                        // ÁßªÈô§?áÂ∞æÔºàÂ??úÊ≤°?âÂ??∞È??©Ô?
                        if (!this.foodEaten) {
                            this.snake.pop();
                        } else {
                            this.foodEaten = false;
                        }
                    },
                    
                    checkCollision: function() {
                        const head = this.snake[0];
                        const gridWidth = this.canvas.width / this.gridSize;
                        const gridHeight = this.canvas.height / this.gridSize;
                        
                        // Ê£Ä?•Â?Â£ÅÁ¢∞??
                        if (head.x < 0 || head.x >= gridWidth || head.y < 0 || head.y >= gridHeight) {
                            return true;
                        }
                        
                        // Ê£Ä?•Ëá™?ëÁ¢∞??
                        for (let i = 1; i < this.snake.length; i++) {
                            if (head.x === this.snake[i].x && head.y === this.snake[i].y) {
                                return true;
                            }
                        }
                        
                        return false;
                    },
                    
                    checkFood: function() {
                        const head = this.snake[0];
                        
                        if (head.x === this.food.x && head.y === this.food.y) {
                            // ?ÉÂà∞È£üÁâ©
                            this.score += 10;
                            this.foodEaten = true;
                            this.food = this.generateFood();
                            this.updateDisplay();
                        }
                    },
                    
                    draw: function() {
                        // Ê∏ÖÁ©∫?ªÂ?
                        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                        
                        // ÁªòÂà∂?åÊôØ
                        this.ctx.fillStyle = '#1a1a2e';
                        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                        
                        // ÁªòÂà∂ÁΩëÊ†º
                        this.ctx.strokeStyle = '#2a2a3e';
                        this.ctx.lineWidth = 0.5;
                        
                        for (let x = 0; x <= this.canvas.width; x += this.gridSize) {
                            this.ctx.beginPath();
                            this.ctx.moveTo(x, 0);
                            this.ctx.lineTo(x, this.canvas.height);
                            this.ctx.stroke();
                        }
                        
                        for (let y = 0; y <= this.canvas.height; y += this.gridSize) {
                            this.ctx.beginPath();
                            this.ctx.moveTo(0, y);
                            this.ctx.lineTo(this.canvas.width, y);
                            this.ctx.stroke();
                        }
                        
                        // ÁªòÂà∂??
                        for (let i = 0; i < this.snake.length; i++) {
                            const segment = this.snake[i];
                            
                            // ?áÂ§¥
                            if (i === 0) {
                                this.ctx.fillStyle = '#4CAF50';
                            } else {
                                // ?áË∫´Ê∏êÂ?
                                const intensity = 200 - Math.min(i * 10, 150);
                                this.ctx.fillStyle = `rgb(76, ${intensity}, 80)`;
                            }
                            
                            this.ctx.fillRect(
                                segment.x * this.gridSize,
                                segment.y * this.gridSize,
                                this.gridSize - 1,
                                this.gridSize - 1
                            );
                            
                            // ?áÂ§¥?ºÁ?
                            if (i === 0) {
                                this.ctx.fillStyle = '#000000';
                                const eyeSize = this.gridSize / 5;
                                
                                // ?πÊçÆ?πÂ?ÁªòÂà∂?ºÁ?
                                let leftEyeX, leftEyeY, rightEyeX, rightEyeY;
                                
                                switch (this.direction) {
                                    case 'right':
                                        leftEyeX = segment.x * this.gridSize + this.gridSize - eyeSize * 2;
                                        leftEyeY = segment.y * this.gridSize + eyeSize * 2;
                                        rightEyeX = segment.x * this.gridSize + this.gridSize - eyeSize * 2;
                                        rightEyeY = segment.y * this.gridSize + this.gridSize - eyeSize * 3;
                                        break;
                                    case 'left':
                                        leftEyeX = segment.x * this.gridSize + eyeSize;
                                        leftEyeY = segment.y * this.gridSize + eyeSize * 2;
                                        rightEyeX = segment.x * this.gridSize + eyeSize;
                                        rightEyeY = segment.y * this.gridSize + this.gridSize - eyeSize * 3;
                                        break;
                                    case 'up':
                                        leftEyeX = segment.x * this.gridSize + eyeSize * 2;
                                        leftEyeY = segment.y * this.gridSize + eyeSize;
                                        rightEyeX = segment.x * this.gridSize + this.gridSize - eyeSize * 3;
                                        rightEyeY = segment.y * this.gridSize + eyeSize;
                                        break;
                                    case 'down':
                                        leftEyeX = segment.x * this.gridSize + eyeSize * 2;
                                        leftEyeY = segment.y * this.gridSize + this.gridSize - eyeSize * 2;
                                        rightEyeX = segment.x * this.gridSize + this.gridSize - eyeSize * 3;
                                        rightEyeY = segment.y * this.gridSize + this.gridSize - eyeSize * 2;
                                        break;
                                }
                                
                                this.ctx.fillRect(leftEyeX, leftEyeY, eyeSize, eyeSize);
                                this.ctx.fillRect(rightEyeX, rightEyeY, eyeSize, eyeSize);
                            }
                        }
                        
                        // ÁªòÂà∂È£üÁâ©
                        this.ctx.fillStyle = '#ff5252';
                        this.ctx.beginPath();
                        this.ctx.arc(
                            this.food.x * this.gridSize + this.gridSize / 2,
                            this.food.y * this.gridSize + this.gridSize / 2,
                            this.gridSize / 2 - 2,
                            0,
                            Math.PI * 2
                        );
                        this.ctx.fill();
                    },
                    
                    updateDisplay: function() {
                        document.getElementById('snake-score').textContent = this.score;
                        document.getElementById('snake-high-score-game').textContent = this.highScore;
                        
                        // ?¥Êñ∞?ÄÈ´òÂ?
                        if (this.score > this.highScore) {
                            this.highScore = this.score;
                            document.getElementById('snake-high-score-game').textContent = this.highScore;
                        }
                    },
                    
                    handleKeyPress: function(e) {
                        if (!this.gameRunning || this.gamePaused) return;
                        
                        switch (e.key) {
                            case 'ArrowUp':
                                if (this.direction !== 'down') this.nextDirection = 'up';
                                break;
                            case 'ArrowDown':
                                if (this.direction !== 'up') this.nextDirection = 'down';
                                break;
                            case 'ArrowLeft':
                                if (this.direction !== 'right') this.nextDirection = 'left';
                                break;
                            case 'ArrowRight':
                                if (this.direction !== 'left') this.nextDirection = 'right';
                                break;
                            case ' ':
                                this.togglePause();
                                break;
                        }
                    },
                    
                    gameOver: function() {
                        this.gameRunning = false;
                        clearInterval(this.gameInterval);
                        
                        // ?æÁ§∫Ê∏∏Ê?ÁªìÊ??åÈù¢
                        document.getElementById('snake-game-over').classList.remove('hidden');
                        document.getElementById('snake-final-score').textContent = this.score;
                        
                        // ?¥Êñ∞Ê∏∏Ê?‰∏≠Â??∞ÊçÆ
                        GameCenter.updateSnakeGameStats(this.score, this.snake.length);
                    },
                    
                    togglePause: function() {
                        if (!this.gameRunning) return;
                        
                        this.gamePaused = !this.gamePaused;
                        const pauseBtn = document.getElementById('snake-pause-btn');
                        pauseBtn.textContent = this.gamePaused ? 'ÁªßÁª≠Ê∏∏Ê?' : '?ÇÂ?Ê∏∏Ê?';
                    },
                    
                    restartGame: function() {
                        this.gameRunning = false;
                        this.gamePaused = false;
                        clearInterval(this.gameInterval);
                        
                        this.score = 0;
                        
                        // ?çÁΩÆ??
                        this.snake = [
                            {x: 10, y: 10},
                            {x: 9, y: 10},
                            {x: 8, y: 10}
                        ];
                        this.direction = 'right';
                        this.nextDirection = 'right';
                        this.food = this.generateFood();
                        this.foodEaten = false;
                        
                        this.updateDisplay();
                        this.startGame();
                    },
                    
                    stop: function() {
                        console.log('Ë¥™È??áÊ∏∏?èÂ?Ê≠?);
                        this.gameRunning = false;
                        this.gamePaused = false;
                        
                        if (this.gameInterval) {
                            clearInterval(this.gameInterval);
                            this.gameInterval = null;
                        }
                        
                        // Ê∏ÖÈô§?ªÂ?
                        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                        
                        // ?æÁ§∫?úÊ≠¢Ê∂àÊÅØ
                        this.ctx.fillStyle = '#1a1a2e';
                        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                        this.ctx.fillStyle = '#ff9e00';
                        this.ctx.font = '20px Arial';
                        this.ctx.textAlign = 'center';
                        this.ctx.fillText('Ê∏∏Ê?Â∑≤Â?Ê≠?, this.canvas.width/2, this.canvas.height/2);
                    }
                };
            }
        };
        
        // ?ùÂ??ñÊ∏∏?è‰∏≠Âø?
        GameCenter.init();
    </script>
</body>
</html>